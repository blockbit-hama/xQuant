# xQuant 프로젝트 개요

## 이 프로젝트는 무엇인가?

xQuant는 암호화폐 자동 매매를 위한 시스템입니다. 다만 일반적인 봇과는 다릅니다. 두 개의 서로 다른 프로그래밍 언어로 만든 시스템을 연결해서 각자의 장점을 살린 하이브리드 구조입니다.

**Rust로 만든 부분**: 실제 주문을 내고, 거래소와 통신하고, 돈을 관리하는 부분
**Python으로 만든 부분**: 차트를 분석하고, 언제 사고팔지 신호를 만드는 부분

왜 이렇게 나눴냐면, Rust는 빠르고 안전해서 실제 돈이 오가는 거래 부분에 적합하고, Python은 데이터 분석이나 머신러닝 라이브러리가 풍부해서 차트 분석에 좋기 때문입니다.

## 시스템 구조

```
사용자
  ↓
Rust 트레이딩 봇 ←→ Python 예측 시스템
  ↓                    ↓
바이낸스 거래소        바이낸스 데이터
```

### Rust 트레이딩 봇이 하는 일

1. **주문 관리**: 실제로 비트코인을 사고팔 때 주문을 냅니다
2. **포지션 관리**: 지금 얼마나 코인을 가지고 있는지 관리합니다
3. **리스크 관리**: 너무 많은 돈을 잃지 않도록 제한을 둡니다
4. **Python과 통신**: Python 시스템에서 "지금 사라" 또는 "지금 팔아" 신호를 받습니다

### Python 예측 시스템이 하는 일

1. **데이터 수집**: 바이낸스에서 비트코인 가격 데이터를 가져옵니다
2. **기술적 분석**: 이동평균, RSI, MACD 같은 지표들을 계산합니다
3. **매매 신호 생성**: 계산한 지표들을 보고 "지금이 살 때다" 또는 "지금이 팔 때다" 신호를 만듭니다
4. **백테스팅**: 과거 데이터로 전략이 얼마나 돈을 벌 수 있는지 테스트합니다

## 두 시스템이 어떻게 소통하는가?

REST API라는 방식을 씁니다. 쉽게 말해서 인터넷을 통해 메시지를 주고받는 겁니다.

### 실제 동작 과정

1. **Python 시스템 시작**: 먼저 Python 서버를 켜둡니다 (포트 8000)
2. **Rust 봇 시작**: Rust 봇이 켜지면서 Python 서버에 연결합니다
3. **신호 요청**: Rust 봇이 "지금 BTC/USDT를 어떻게 할까?" 하고 Python에게 묻습니다
4. **분석 후 응답**: Python이 차트를 분석해서 "매수하세요 (신뢰도 85%)" 라고 답합니다
5. **주문 실행**: Rust 봇이 그 신호를 받아서 실제로 바이낸스에 매수 주문을 넣습니다

### 주고받는 정보

- **요청**: "BTCUSDT 1시간 차트 기준으로 추세추종 전략 신호 주세요"
- **응답**: "매수 신호, 신뢰도 78%, RSI=45, MACD=양수"

## 구체적인 파일 구조

### Rust 부분 (src/ 폴더)

- `main.rs`: 프로그램 시작점
- `prediction_client.rs`: Python API와 통신하는 코드
- `order_core/`: 주문 관리 코드들
- `exchange/`: 거래소 API 연결 코드
- `trading_bots/`: 자동 매매 봇 로직

### Python 부분 (python_prediction/ 폴더)

- `api/server.py`: Rust와 통신받는 서버
- `data_collection/binance_client.py`: 바이낸스에서 데이터 가져오기
- `indicators/technical_indicators.py`: RSI, MACD 등 지표 계산
- `strategies/trend_following.py`: 매매 전략들
- `backtest/backtester.py`: 전략 테스트

## 실제 사용 시나리오

### 시나리오 1: 기본 자동매매

1. 아침에 컴퓨터를 켜고 두 프로그램을 실행
2. Python이 1분마다 비트코인 차트를 분석
3. 이동평균선이 교차하면 "매수" 신호 생성
4. Rust가 신호를 받아서 바이낸스에 실제 주문
5. 수익이나 손실이 일정 수준에 도달하면 자동으로 매도

### 시나리오 2: 전략 백테스팅

1. 새로운 매매 전략을 생각해냄
2. Python에서 그 전략을 코딩
3. 과거 1년간의 비트코인 데이터로 테스트
4. "이 전략으로 했다면 30% 수익이었겠네" 확인
5. 괜찮으면 실제 봇에 적용

## 장점과 특징

**왜 이렇게 복잡하게?**
- Rust는 빠르고 메모리 안전해서 실제 거래에 안정적
- Python은 데이터 분석 라이브러리가 많아서 복잡한 전략 구현이 쉬움
- 각자 잘하는 일을 맡겨서 전체적으로 더 좋은 성능

**실용적인 장점들**
- 거래 로직과 분석 로직이 분리되어 있어서 하나가 문제 생겨도 다른 쪽은 괜찮음
- Python 부분만 수정해서 새로운 전략을 쉽게 추가 가능
- 백테스팅으로 전략을 미리 검증할 수 있음
- 실제 돈 거래와 분석이 분리되어 있어서 더 안전

## 시작하는 법

### 필요한 것들
- 바이낸스 계정 (테스트넷도 OK)
- Rust 개발환경
- Python 3.8+ 

### 실행 순서
1. `.env` 파일에 바이낸스 API 키 설정
2. Python 서버 실행: `python main.py server`  
3. 다른 터미널에서 Rust 봇 실행: `cargo run`
4. 로그 보면서 자동매매 동작 확인

### 테스트해보기
- 백테스팅: `python main.py backtest --symbol BTC/USDT --strategy trend_following`
- 데이터 수집: `python main.py collect --symbol BTC/USDT --days 30`

## 주의사항

**돈 관련**
- 처음에는 반드시 테스트넷으로 시작
- 실제 거래시에는 작은 금액부터 시작
- 손절매 설정은 필수

**기술적**
- 인터넷 연결이 끊어지면 둘 다 제대로 작동 안 함
- Python 서버가 먼저 켜져있어야 Rust 봇이 동작함
- 바이낸스 API 제한에 걸리지 않도록 주의

이 시스템은 단순한 매매봇이 아니라, 분석과 실행을 분리한 전문적인 트레이딩 시스템입니다. 각 언어의 장점을 살려서 더 안정적이고 확장 가능한 구조로 만들어졌습니다.